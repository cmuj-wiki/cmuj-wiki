{% extends "base.html" %}

{% block htmltitle %}
  {{ super() }}
  {% include "partials/pwa.html" %}
{% endblock %}

{% block header %}
  {{ super() }}
  <!-- PWA Install Button (mobile only) -->
  <a href="#" id="pwa-install-button" class="md-header__button md-icon" title="Zainstaluj aplikacjÄ™" style="display: none;">
    <span class="pwa-install-icon">ğŸ“±</span>
    <span class="pwa-install-text">Zainstaluj</span>
  </a>

  <!-- iOS PWA Instructions Modal -->
  <div id="pwa-ios-instructions" class="pwa-modal" style="display: none;">
    <div class="pwa-modal-overlay"></div>
    <div class="pwa-modal-content">
      <button id="pwa-ios-close" class="pwa-modal-close" aria-label="Zamknij">&times;</button>
      <div class="pwa-modal-icon">ğŸ“±</div>
      <h3>Zainstaluj aplikacjÄ™ na iOS</h3>
      <p>Aby zainstalowaÄ‡ CMUJ Wiki jako aplikacjÄ™:</p>
      <ol>
        <li>Dotknij ikony <strong>UdostÄ™pnij</strong> <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle;"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg> na pasku narzÄ™dzi</li>
        <li>PrzewiÅ„ w dÃ³Å‚ i wybierz <strong>"Dodaj do ekranu poczÄ…tkowego"</strong></li>
        <li>PotwierdÅº dodanie aplikacji</li>
      </ol>
      <p class="pwa-modal-note">Aplikacja bÄ™dzie dostÄ™pna z ekranu gÅ‚Ã³wnego telefonu!</p>
    </div>
  </div>
{% endblock %}

{% block content %}
  <noscript>
    <div style="
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: white;
      color: #333;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 999999;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    ">
      <div style="text-align: center; padding: 40px; max-width: 500px;">
        <h1 style="color: #5c6bc0; font-size: 32px; margin-bottom: 20px;">ğŸ”’ JavaScript jest wymagany</h1>
        <p style="font-size: 18px; line-height: 1.6; margin-bottom: 15px;">
          Ta strona wymaga wÅ‚Ä…czonego JavaScript w przeglÄ…darce.
        </p>
        <p style="font-size: 16px; color: #666;">
          WÅ‚Ä…cz JavaScript i odÅ›wieÅ¼ stronÄ™, aby uzyskaÄ‡ dostÄ™p do CMUJ Wiki.
        </p>
        <hr style="margin: 30px 0; border: none; border-top: 1px solid #ddd;">
        <h2 style="color: #5c6bc0; font-size: 24px; margin-bottom: 15px;">ğŸ”’ JavaScript Required</h2>
        <p style="font-size: 16px; line-height: 1.6; color: #666;">
          This site requires JavaScript to be enabled in your browser.
        </p>
        <p style="font-size: 14px; color: #999; margin-top: 20px;">
          Please enable JavaScript and refresh the page to access CMUJ Wiki.
        </p>
      </div>
    </div>
  </noscript>
  {{ super() }}
{% endblock %}
